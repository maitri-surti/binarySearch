var _0x5a91=["LEFT","bgImgUrl","resize","rotation","turn","Direction","moveOneGrid","schedule","drawImage","createElement","translate","push","RIGHT","imgUrl","moveOneStep","reset","data","xGrid","drawTarget","length","stepGrids","delay","getContext","getElementById","size","yGrid","function","tcanvas","initialState","height","xSign","context","queue","width"," is not defined","restore","scaleFactor","action","ySign","isEmpty","src","animMillis","callback","target","save","bgcanvas","onload","shift","<canvas> with id ","renderer","Queue","calculatorMovement","move","clear","ready","DOWN","enqueue","canvas","gridSize"];!function(e){!function(x){for(;--x;)e.push(e.shift())}(384)}(_0x5a91);var _0x1de2=function(x,e){return _0x5a91[x-=0]};function CanvasPad(x){this.id=x.id,this[_0x1de2("0x1f")]=x[_0x1de2("0x1f")],this[_0x1de2("0x36")]=x[_0x1de2("0x36")],this[_0x1de2("0x1d")]=x[_0x1de2("0x1d")],this[_0x1de2("0xe")]=x.target,this[_0x1de2("0x32")]=x[_0x1de2("0x32")],this[_0x1de2("0xc")]=x[_0x1de2("0xc")]||800,this[_0x1de2("0x3a")]={xGrid:x[_0x1de2("0xe")][_0x1de2("0x2f")],yGrid:x[_0x1de2("0xe")].yGrid,rotation:x[_0x1de2("0xe")].rotation},this[_0x1de2("0x14")]={context:null,tcanvas:null,bgcanvas:null},this[_0x1de2("0x7")]=1,this[_0x1de2("0x19")]=!1,this[_0x1de2("0x3")]=new CanvasPad[_0x1de2("0x15")];var c=this;this[_0x1de2("0x20")]=function(x){return c[_0x1de2("0x7")]*x},this[_0x1de2("0x30")]=function(){var x=c[_0x1de2("0x14")][_0x1de2("0x2")];x.save();var e=c[_0x1de2("0x14")][_0x1de2("0x10")][_0x1de2("0x4")],d=c.renderer[_0x1de2("0x10")][_0x1de2("0x0")];x.clearRect(0,0,e,d),x.drawImage(c[_0x1de2("0x14")][_0x1de2("0x10")],0,0);var _=c[_0x1de2("0x20")](c[_0x1de2("0xe")][_0x1de2("0x36")]),a=c[_0x1de2("0x20")](c[_0x1de2("0x1d")]),t=c.target[_0x1de2("0x2f")]*a-a/2,i=c.target.yGrid*a-a/2,n=t-_/2,r=i-_/2;x[_0x1de2("0x28")](t,i);var s=c.target[_0x1de2("0x21")]/180*Math.PI;x.rotate(s),x[_0x1de2("0x28")](-t,-i),x.drawImage(c[_0x1de2("0x14")][_0x1de2("0x39")],n,r,_,_),x[_0x1de2("0x6")]()},this.init=function(_){var x=document[_0x1de2("0x35")](c.id);if(!x)throw new Error(_0x1de2("0x13")+c.id+_0x1de2("0x5"));x[_0x1de2("0x4")]=c[_0x1de2("0x36")],x[_0x1de2("0x0")]=c.size;var e=x[_0x1de2("0x34")]("2d");c[_0x1de2("0x14")][_0x1de2("0x2")]=e;var d=document[_0x1de2("0x27")](_0x1de2("0x1c"));d.width=x.width,d.height=x[_0x1de2("0x0")];var a=d[_0x1de2("0x34")]("2d");c[_0x1de2("0x14")][_0x1de2("0x10")]=d;var t=new Image,i=new Image;t[_0x1de2("0x11")]=function(){c.scaleFactor=x[_0x1de2("0x4")]/t[_0x1de2("0x4")],a[_0x1de2("0x26")](t,0,0,d[_0x1de2("0x4")],d[_0x1de2("0x0")]),a[_0x1de2("0xf")](),i[_0x1de2("0x11")]=function(){var x=c[_0x1de2("0x20")](c[_0x1de2("0xe")][_0x1de2("0x36")]),e=document[_0x1de2("0x27")](_0x1de2("0x1c"));e.width=x,e[_0x1de2("0x0")]=x;var d=e[_0x1de2("0x34")]("2d");d[_0x1de2("0x26")](i,0,0,x,x),d[_0x1de2("0xf")](),c.renderer[_0x1de2("0x39")]=e,c[_0x1de2("0x30")](),c[_0x1de2("0x19")]=!0,typeof _===_0x1de2("0x38")&&_()}},t[_0x1de2("0xb")]=c[_0x1de2("0x1f")],i[_0x1de2("0xb")]=c[_0x1de2("0xe")][_0x1de2("0x2b")]},this[_0x1de2("0x16")]=function(x){var e=0,d=0,_=0;switch(x){case CanvasPad[_0x1de2("0x23")].UP:d=-1,_=0;break;case CanvasPad[_0x1de2("0x23")][_0x1de2("0x1a")]:d=1,_=180;break;case CanvasPad[_0x1de2("0x23")].LEFT:e=-1,_=270;break;case CanvasPad[_0x1de2("0x23")][_0x1de2("0x2a")]:e=1,_=90}return{xSign:e,ySign:d,rotation:_}},this[_0x1de2("0x24")]=function(x){var e;c[_0x1de2("0x19")]&&(e=c[_0x1de2("0x16")](x),c[_0x1de2("0xe")].rotation=e[_0x1de2("0x21")],c[_0x1de2("0xe")].xGrid=c[_0x1de2("0xe")][_0x1de2("0x2f")]+ +e[_0x1de2("0x1")],c[_0x1de2("0xe")].yGrid=c[_0x1de2("0xe")][_0x1de2("0x37")]+ +e[_0x1de2("0x9")],c[_0x1de2("0x30")]())},this[_0x1de2("0x2c")]=function(x){var e;c[_0x1de2("0x19")]&&(e=c.calculatorMovement(x),c.target[_0x1de2("0x21")]=e[_0x1de2("0x21")],c[_0x1de2("0xe")][_0x1de2("0x2f")]=c.target[_0x1de2("0x2f")]+e[_0x1de2("0x1")]*c.stepGrids,c[_0x1de2("0xe")][_0x1de2("0x37")]=c[_0x1de2("0xe")][_0x1de2("0x37")]+e[_0x1de2("0x9")]*c[_0x1de2("0x32")],c[_0x1de2("0x30")]())},this.schedule=function(){var e;c[_0x1de2("0x3")][_0x1de2("0xa")]()||(e=c[_0x1de2("0x3")].dequeue(),setTimeout(function(){var x;e&&(x=void 0,typeof e[_0x1de2("0x8")]===_0x1de2("0x38")&&(x=e[_0x1de2("0x8")]()),typeof e[_0x1de2("0xd")]===_0x1de2("0x38")&&e[_0x1de2("0xd")](x)),c[_0x1de2("0x25")]()},e[_0x1de2("0x33")]))},this[_0x1de2("0x17")]=function(x){var e=1<arguments[_0x1de2("0x31")]&&void 0!==arguments[1]?arguments[1]:c[_0x1de2("0xc")],d=2<arguments[_0x1de2("0x31")]&&void 0!==arguments[2]?arguments[2]:null;if(c[_0x1de2("0x19")]){for(var _=c[_0x1de2("0x3")][_0x1de2("0xa")](),a=0;a<c[_0x1de2("0x32")]-1;a++)c[_0x1de2("0x3")][_0x1de2("0x1b")]({action:function(){c[_0x1de2("0x24")](x)},delay:e});c[_0x1de2("0x3")][_0x1de2("0x1b")]({action:function(){c[_0x1de2("0x24")](x)},delay:e,callback:d}),_&&c[_0x1de2("0x25")]()}},this[_0x1de2("0x22")]=function(e){var x,d=1<arguments[_0x1de2("0x31")]&&void 0!==arguments[1]?arguments[1]:c[_0x1de2("0xc")],_=2<arguments[_0x1de2("0x31")]&&void 0!==arguments[2]?arguments[2]:null;c[_0x1de2("0x19")]&&(x=c.queue[_0x1de2("0xa")](),c[_0x1de2("0x3")][_0x1de2("0x1b")]({action:function(){var x=c.calculatorMovement(e);c[_0x1de2("0xe")][_0x1de2("0x21")]=x.rotation,c[_0x1de2("0x30")]()},delay:d,callback:_}),x&&c[_0x1de2("0x25")]())},this.deadEnd=function(x){var d=1<arguments[_0x1de2("0x31")]&&void 0!==arguments[1]?arguments[1]:c.animMillis,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(c[_0x1de2("0x19")]){var _=c.queue[_0x1de2("0xa")](),a=x;switch(x){case CanvasPad[_0x1de2("0x23")].UP:a=CanvasPad.Direction.DOWN;break;case CanvasPad[_0x1de2("0x23")][_0x1de2("0x1a")]:a=CanvasPad[_0x1de2("0x23")].UP;break;case CanvasPad[_0x1de2("0x23")].LEFT:a=CanvasPad.Direction[_0x1de2("0x2a")];break;case CanvasPad[_0x1de2("0x23")][_0x1de2("0x2a")]:a=CanvasPad[_0x1de2("0x23")][_0x1de2("0x1e")]}for(var t=0;t<c[_0x1de2("0x32")]/6;t++)i(x);for(t=0;t<c.stepGrids/3;t++)i(a);for(t=0;t<c[_0x1de2("0x32")]/6;t++)i(x,e);_&&c[_0x1de2("0x25")]()}function i(e,x){c.queue[_0x1de2("0x1b")]({action:function(){var x=c[_0x1de2("0x16")](e);c[_0x1de2("0xe")].xGrid=c[_0x1de2("0xe")][_0x1de2("0x2f")]+ +x[_0x1de2("0x1")],c[_0x1de2("0xe")][_0x1de2("0x37")]=c[_0x1de2("0xe")][_0x1de2("0x37")]+ +x[_0x1de2("0x9")],c[_0x1de2("0x30")]()},delay:d,callback:x})}},this[_0x1de2("0x2d")]=function(){c[_0x1de2("0x19")]&&(c[_0x1de2("0x3")][_0x1de2("0x18")](),c[_0x1de2("0xe")].xGrid=c.initialState[_0x1de2("0x2f")],c[_0x1de2("0xe")].yGrid=c[_0x1de2("0x3a")][_0x1de2("0x37")],c[_0x1de2("0xe")][_0x1de2("0x21")]=c[_0x1de2("0x3a")][_0x1de2("0x21")],c[_0x1de2("0x30")]())}}CanvasPad[_0x1de2("0x23")]={UP:"UP",DOWN:"DOWN",LEFT:_0x1de2("0x1e"),RIGHT:"RIGHT"},CanvasPad[_0x1de2("0x15")]=function(){this[_0x1de2("0x2e")]=new Array,this[_0x1de2("0x1b")]=function(x){this[_0x1de2("0x2e")][_0x1de2("0x29")](x)},this.dequeue=function(){return this[_0x1de2("0x2e")][_0x1de2("0x12")]()},this.peek=function(){return this[_0x1de2("0x2e")][0]},this[_0x1de2("0xa")]=function(){return 0===this[_0x1de2("0x2e")].length},this[_0x1de2("0x18")]=function(){this[_0x1de2("0x2e")].splice(0,this[_0x1de2("0x2e")][_0x1de2("0x31")])}};